<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NeonRadio ‚Äî –†–∞–¥–∏–æ –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è</title>
  <style>
    :root {
      --bg-dark: #0a0a0f;
      --bg-light: #f3f3f3;
      --accent: #00ffe7;
      --font-main: 'Segoe UI', sans-serif;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      background-color: var(--bg-dark);
      color: var(--accent);
      font-family: var(--font-main);
      overflow: hidden;
      transition: background 0.3s, color 0.3s;
    }
    body.light-theme {
      background-color: var(--bg-light);
      color: #000;
    }
    .app {
      height: 100vh;
      width: 100vw;
      display: flex;
      flex-direction: column;
      position: relative;
    }
    header {
      padding: 1rem 1.2rem;
      text-align: center;
      font-size: 1.6rem;
      background: linear-gradient(90deg, #00ffe7, #007f7f);
      color: #000;
      font-weight: bold;
      box-shadow: 0 2px 10px #00ffe7aa;
      position: relative;
      user-select: none;
      z-index: 10;
    }
    #burgerBtn {
      position: absolute;
      right: 1rem;
      top: 1rem;
      width: 32px;
      height: 24px;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      z-index: 11;
    }
    #burgerBtn span {
      display: block;
      height: 4px;
      background: var(--accent);
      border-radius: 2px;
      transition: 0.3s;
    }
    #sidebar {
      position: fixed;
      top: 0; right: -300px;
      width: 300px;
      height: 100vh;
      background: rgba(0, 255, 231, 0.12);
      backdrop-filter: blur(15px);
      box-shadow: -3px 0 20px #00ffe7cc;
      transition: right 0.35s ease;
      z-index: 9999;
      padding: 1rem;
      display: flex;
      flex-direction: column;
    }
    #sidebar.active {
      right: 0;
    }
    #sidebarClose {
      align-self: flex-end;
      font-size: 2rem;
      color: var(--accent);
      cursor: pointer;
      user-select: none;
    }
    .theme-toggle, .timer-toggle {
      margin-top: 2rem;
      padding: 0.8rem;
      border-radius: 10px;
      background: transparent;
      border: 2px solid var(--accent);
      color: var(--accent);
      cursor: pointer;
      font-size: 1.2rem;
    }
    .theme-toggle:hover, .timer-toggle:hover {
      background: var(--accent);
      color: #000;
    }
    .timer-controls {
      display: flex;
      flex-direction: column;
      margin-top: 1rem;
    }
    .timer-controls input {
      padding: 0.5rem;
      font-size: 1rem;
      border-radius: 6px;
      border: 1px solid var(--accent);
      background: transparent;
      color: var(--accent);
      margin-bottom: 0.5rem;
    }
    .timer-controls button {
      padding: 0.5rem;
      font-size: 1rem;
      border-radius: 6px;
      border: 1px solid var(--accent);
      background: var(--accent);
      color: #000;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      NeonRadio üéß
      <div id="burgerBtn" aria-label="–ú–µ–Ω—é" title="–ú–µ–Ω—é" role="button" tabindex="0">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </header>

    <div id="sidebar" aria-hidden="true">
      <div id="sidebarClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é" title="–ó–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é" role="button" tabindex="0">√ó</div>
      <button class="theme-toggle" id="themeToggle">–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É</button>
      <div class="timer-controls">
        <input type="number" id="timerMinutes" placeholder="–ú–∏–Ω—É—Ç—ã –¥–æ –≤—ã–∫–ª—é—á–µ–Ω–∏—è" min="1">
        <button id="setTimer">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä</button>
      </div>
      <div id="favoritesList"><h3>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ:</h3><ul id="favorites"></ul></div>
    </div>

    <!-- –û—Å—Ç–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å –±—É–¥–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∞ –≤–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ -->
  </div>

  <script>
  const playButtons = document.querySelectorAll('.playBtn');
  const pauseButtons = document.querySelectorAll('.pauseBtn');
  const themeToggle = document.getElementById('themeToggle');
  const body = document.body;
  const radioContainer = document.getElementById('radioContainer');
  const burgerBtn = document.getElementById('burgerBtn');
  const sidebar = document.getElementById('sidebar');
  const sidebarClose = document.getElementById('sidebarClose');
  const favoritesList = document.getElementById('favoritesList');
  const timerSetBtn = document.getElementById('setTimer');
  const timerInput = document.getElementById('timerInput');

  let currentAudio = null;
  let currentStation = null;
  let scrollLocked = false;
  let timerId = null;

  function playStation(stationDiv) {
    const url = stationDiv.dataset.url;
    if (!url) return alert('–ü–æ—Ç–æ–∫ –¥–ª—è —ç—Ç–æ–π —Å—Ç–∞–Ω—Ü–∏–∏ –Ω–µ –∑–∞–¥–∞–Ω');

    if (currentAudio) {
      currentAudio.pause();
      currentAudio = null;
      if (currentStation) {
        currentStation.querySelector('.pauseBtn').style.display = 'none';
        currentStation.querySelector('.playBtn').style.display = 'inline-block';
      }
    }

    currentAudio = new Audio(url);
    currentAudio.volume = 1;
    currentAudio.play().catch(() => {
      alert('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –ø–æ—Ç–æ–∫.');
    });

    currentStation = stationDiv;
    stationDiv.querySelector('.playBtn').style.display = 'none';
    stationDiv.querySelector('.pauseBtn').style.display = 'inline-block';
  }

  function pauseStation(stationDiv) {
    if (currentAudio && currentStation === stationDiv) {
      currentAudio.pause();
      currentAudio = null;
      stationDiv.querySelector('.pauseBtn').style.display = 'none';
      stationDiv.querySelector('.playBtn').style.display = 'inline-block';
    }
  }

  playButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const station = btn.closest('.station');
      playStation(station);
    });
  });
  pauseButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const station = btn.closest('.station');
      pauseStation(station);
    });
  });

  // –°–º–µ–Ω–∞ —Ç–µ–º—ã
  themeToggle.addEventListener('click', () => {
    body.classList.toggle('light');
    if (body.classList.contains('light')) {
      themeToggle.textContent = 'üåô –¢–µ–º–Ω–∞—è';
    } else {
      themeToggle.textContent = '‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è';
    }
  });

  // –ë—É—Ä–≥–µ—Ä –º–µ–Ω—é
  burgerBtn.addEventListener('click', () => {
    sidebar.classList.add('active');
    sidebar.setAttribute('aria-hidden', 'false');
  });
  sidebarClose.addEventListener('click', () => {
    sidebar.classList.remove('active');
    sidebar.setAttribute('aria-hidden', 'true');
  });

  // –¢–∞–π–º–µ—Ä
  timerSetBtn.addEventListener('click', () => {
    const minutes = parseInt(timerInput.value);
    if (isNaN(minutes) || minutes <= 0) return;
    clearTimeout(timerId);
    timerId = setTimeout(() => {
      if (currentAudio) currentAudio.pause();
      alert('–¢–∞–π–º–µ—Ä: –†–∞–¥–∏–æ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');
    }, minutes * 60000);
  });

  // –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
  const favoriteBtns = document.querySelectorAll('.favoriteBtn');
  favoriteBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      const station = btn.closest('.station');
      const name = station.querySelector('h2').textContent;
      const url = station.dataset.url;
      const listItem = document.createElement('div');
      listItem.textContent = name;
      listItem.className = 'favItem';
      listItem.addEventListener('click', () => {
        sidebar.classList.remove('active');
        setTimeout(() => {
          playStation(station);
        }, 200);
      });
      favoritesList.appendChild(listItem);
      btn.disabled = true;
    });
  });

  // Scroll snapping –∫–∞–∫ TikTok
  radioContainer.addEventListener('wheel', e => {
    if (scrollLocked) {
      e.preventDefault();
      return;
    }
    scrollLocked = true;

    const direction = e.deltaY > 0 ? 1 : -1;
    const panelHeight = radioContainer.querySelector('.station').offsetHeight + 12;
    const currentScroll = radioContainer.scrollTop;
    let targetScroll = currentScroll + direction * panelHeight;

    targetScroll = Math.max(0, Math.min(targetScroll, radioContainer.scrollHeight - radioContainer.clientHeight));

    radioContainer.scrollTo({ top: targetScroll, behavior: 'smooth' });
    setTimeout(() => { scrollLocked = false; }, 650);
    e.preventDefault();
  }, { passive: false });
</script>
</body>
</html>
